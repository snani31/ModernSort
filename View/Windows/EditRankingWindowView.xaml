<customCtrs:BaseWindow x:Class="ModernSort.View.Windows.EditRankingWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ModernSort.View.Windows"
        xmlns:customCtrs ="clr-namespace:ModernSort.CustomeControls.CustomUIControls"
        mc:Ignorable="d"
        Title="EditRankingWindowView" 
        Height="520" 
        Width="900"
        WindowStyle="none"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Background="Transparent"
        ClipToBounds="False"
        MouseLeftButtonDown="Window_DragHandler"
    >
    <Border
        
 Background= "{DynamicResource MeinBackgroundColor}"
 CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=MainBorderCornerRadius}"
 ClipToBounds="True"
     >
        <Grid ClipToBounds="True">
            <Grid.RowDefinitions>
                <RowDefinition 
             Height="50"
             />
                <RowDefinition/>
            </Grid.RowDefinitions>
            
            <Border
                Grid.Column="0"
                Grid.ColumnSpan="1"
                d:CornerRadius="20 20 0 0"
                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=TopButtonsBarBorderCornerRadius}"
                Background="{DynamicResource MeinThemeColor}"
                BorderThickness="0"
                >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                        <ColumnDefinition Width="50"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>


                    <Button Grid.Column="1"
              ToolTip="Hide"
                 Click="HideButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="10 20 0 10">
                                    <Image Margin="8" Source="{DynamicResource MinimizeBordered}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="{DynamicResource DimMeinThemeColor}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button Grid.Column="2"
              ToolTip="Maximize"
                 Click="MaximizeButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="10 20 0 10">
                                    <Image Margin="8" Source="{DynamicResource MaximizeBordered}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="{DynamicResource DimMeinThemeColor}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button 
                        Grid.Column="3"
                        Command="{Binding CloseDialog}"
                        ToolTip="Close">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=TopRightCloseButtonBorderCornerRadius}">
                                    <Image Margin="10" Source="{DynamicResource PowerOffMeinBackgroundImage}"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="{DynamicResource ContrastingColor}"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                </Grid>
            </Border>

            <Grid
                Grid.Row="1"
                >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Grid
                    Grid.Column="0"
                    >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="120"/>
                    </Grid.RowDefinitions>
                    <Rectangle
                        Margin="10"
                        Grid.Column="0"
                        d:Fill="#ccd5f0"
                        RadiusX="20"
                        RadiusY="20"
                        >
                        <Rectangle.Fill>
                            <ImageBrush
                                ImageSource="{Binding CategoryIconPath, 
                                Converter={StaticResource ToBitmapConverter}}"
                                />
                        </Rectangle.Fill>
                    </Rectangle>

                    <Button
                        Margin="10"
                        Grid.Column="0"
                        Command="{Binding EditCategoryImage}"
                        >
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border
                                    x:Name="brd"
                                    CornerRadius="20"
                                    Background="Transparent"
                                    d:Background="{DynamicResource DimBackgroundColor}"
                                    d:Opacity="1"
                                    >
                                    <Image
                                        x:Name="img"
                                        Margin="90"
                                        />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger
                                        Property="IsMouseOver"
                                        Value="true"
                                        >
                                        <Setter
                                            TargetName="img"
                                            Property="Source"
                                            Value="{DynamicResource EditPencelContrasting512}"
                                            />
                                        <Setter
                                            TargetName="brd"
                                            Property="Background"
                                            Value="{DynamicResource ContrastingColorOpacity}"
                                            >
                                        </Setter>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Border
                        Margin="0 10 0 0"
                        d:CornerRadius="0 60 0 20"
                        CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=BottonLeftElementBorderCornerRadius}"
                        Background="{DynamicResource MeinThemeColor}"
                        Grid.Row="1"
                        >
                        <TextBlock
                            Margin="15 0 20 0"
                            VerticalAlignment="Center"
                            TextWrapping="Wrap"
                            Foreground="{DynamicResource MeinBackgroundColor}"
                            FontSize="20"
                            Style="{StaticResource SpanDefoult}"
                            >
                            <TextBlock.Text>
                                <MultiBinding Converter="{StaticResource ValidationStringConverter}">
                                    <Binding
                                        ElementName="TytleTbx" 
                                        Path= "(Validation.Errors)[0].ErrorContent"
                                        Mode="OneWay"
                                        />
                                        <Binding/>
                                        <Binding
                                         ElementName="DescryptioonTbx" 
                                         Path= "(Validation.Errors)[0].ErrorContent"
                                         Mode="OneWay"
                                         />
                                    <Binding/>
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </Border>
                    
                </Grid>

                <Grid
                    Grid.Column="1"
                    >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="100"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="120"/>
                    </Grid.RowDefinitions>

                    <Grid
                        Grid.Row="0"
                        >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <customCtrs:CustomButton
                            Grid.Column="1"
                            Command="{Binding DeleteCategory}"
                            Margin="10"
                            FirstButtonColor="{DynamicResource ContrastingColor}"
                            SecondButtonColor="{DynamicResource MeinBackgroundColor}"
                            CornerRadius="10"
                            BorderThickness="5"
                            ImageMargin="5"
                            TextBlockHorizontalAlignment ="Left"
                            DefoultImageSource="{DynamicResource TrashCanContrasting}"
                            MouseHoverImageSource="{DynamicResource TrashCanBordered}"
                            Grid.Row="0"
                            >
                            <customCtrs:CustomButton.ToolTip>
                                <customCtrs:CustomTooltip
                                    ContentText="Delete Ranking"
                                    Background="{DynamicResource MeinBackgroundColor}"
                                    Foreground="{DynamicResource MeinThemeColor}"
                                    BorderBrush="{DynamicResource MeinThemeColor}"
                                    Placement="MousePoint"
                                    />
                            </customCtrs:CustomButton.ToolTip>
                        </customCtrs:CustomButton>



                        <TextBox 
                            x:Name="TytleTbx"
                            FontSize="30"
                            Foreground="{DynamicResource MeinThemeColor2}"
                            TextWrapping="Wrap"
                            Background="{DynamicResource DimBackgroundColor}"
                            Style="{StaticResource TuskDataTextBoxStyle}"
                            Margin="10"
                            Padding="10"
                            Text="{Binding CategoryTytle, Mode=TwoWay}"
                            >
                            <TextBox.ToolTip>
                                <customCtrs:CustomTooltip
                                    ContentText="Tytle"
                                    Background="{DynamicResource MeinBackgroundColor}"
                                    Foreground="{DynamicResource MeinThemeColor}"
                                    BorderBrush="{DynamicResource MeinThemeColor}"
                                    Placement="MousePoint"
                                    />
                            </TextBox.ToolTip>
                        </TextBox>
                    </Grid>

                    <TextBox
                        x:Name="DescryptioonTbx"
                        Grid.Row="1"
                        FontSize="30"
                        Foreground="{DynamicResource MeinThemeColor2}"
                        TextWrapping="Wrap"
                        Background="{DynamicResource DimBackgroundColor}"
                        Style="{StaticResource TuskDataTextBoxStyle}"
                        Margin="10"
                        Padding="10"
                        Text="{Binding CategoryDescryption, Mode=TwoWay}"
                        >
                        <TextBox.ToolTip>
                            <customCtrs:CustomTooltip
                                ContentText="Description"
                                Background="{DynamicResource MeinBackgroundColor}"
                                Foreground="{DynamicResource MeinThemeColor}"
                                BorderBrush="{DynamicResource MeinThemeColor}"
                                Placement="MousePoint"
                                />
                        </TextBox.ToolTip>
                    </TextBox>

                    <customCtrs:CustomButton
                        SecondButtonColor="{DynamicResource MeinBackgroundColor}"
                        FirstButtonColor="{DynamicResource MeinThemeColor}"
                        DisabledStateColor="{DynamicResource DimBackgroundColor}"
                        Grid.Row="2"
                        CornerRadius="10"
                        BorderThickness="4"
                        Text="Apply Edit"
                        FontSize="30"
                        Margin="10"
                        ImageMargin="5"
                        Command="{Binding EditCategory}"
                        TextBlockHorizontalAlignment ="Center"
                        DisabledImageSource="{DynamicResource PencilEditBordered2}"
                        DefoultImageSource="{DynamicResource PencilEditMein}"
                        MouseHoverImageSource="{DynamicResource PencilEditBordered}"
                        />

                </Grid>

            </Grid>
           
        </Grid>
    </Border>
</customCtrs:BaseWindow>
