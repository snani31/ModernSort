<customCtrs:BaseWindow x:Class="ModernSort.View.Windows.AddNewRankingCategoryWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:customCtrs ="clr-namespace:ModernSort.CustomeControls.CustomUIControls"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ModernSort.View.Windows"
        xmlns:vms="clr-namespace:ModernSort.ViewModel.Windows"
        mc:Ignorable="d"
        WindowStyle="none"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Background="Transparent"
        Title="AddNewRankingCategoryWindowView" 
        Height="600" 
        d:Height="1500"
        Width="500"
        MouseLeftButtonDown="Window_DragHandler"
        >
    <Window.DataContext>
        <vms:AddNewRankingCategoryViewModel/>
    </Window.DataContext>
    <Border
        Background= "#f7f9fe"
        CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=MainBorderCornerRadius}"
        ClipToBounds="True"
        >
        <Grid ClipToBounds="True">
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="50"
                    />
                <RowDefinition
                    Height="*"
                    />
                <RowDefinition
                    Height="120"
                    />
            </Grid.RowDefinitions>
            <Border
                Grid.Column="0"
                Grid.ColumnSpan="1"
                d:CornerRadius="20,20,0,0"
                CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=TopButtonsBarBorderCornerRadius}"
                Background="#512f95"
                BorderThickness="0"
                >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="50"/>
                        <ColumnDefinition Width="50"/>
                        <ColumnDefinition Width="50"/>
                    </Grid.ColumnDefinitions>


                    <Button Grid.Column="1"
         ToolTip="Закрыть"
            Click="HideButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="10 20 0 10">
                                    <Image Margin="5" Source="/AppResources/Pictures/circleWhite64px.png"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="#492988"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button Grid.Column="2"
         ToolTip="Свернуть"
            Click="MaximizeButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="10 20 0 10">
                                    <Image Margin="5" Source="/AppResources/Pictures/CollapseWindpwIcon.png"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="#492988"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button Grid.Column="3"
        Command="{Binding CloseDialog}"
        ToolTip="Закрыть">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="{Binding RelativeSource={RelativeSource AncestorType=customCtrs:BaseWindow,Mode=FindAncestor},Path=TopRightCloseButtonBorderCornerRadius}">
                                    <Image Margin="5" Source="/AppResources/Pictures/PowerOffButtonIcon.png"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="brd" Property="Background" Value="MediumVioletRed"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                </Grid>
            </Border>
            <Border
                Grid.Row="1"
                Background="#ccd5f0"
                CornerRadius="20"
                Margin="20 20 20 0"
                >
                <ScrollViewer
                    Margin="10"
                    Padding="20"
                    >
                    <ScrollViewer.Resources>
                        <Style TargetType="ScrollBar" BasedOn="{StaticResource WhiteScrollBarStyle}"/>
                    </ScrollViewer.Resources>
                    <StackPanel
                        >
                        <TextBlock
                            TextWrapping="Wrap"
                            Foreground="#7d4c94"
                            FontSize="25"
                            Style="{StaticResource SpanDefoult}"
                            Text="Select tytle for new Category"
                            />
                        <TextBlock
                            TextWrapping="Wrap"
                            Margin="10 5 10 0"
                            FontSize="20"
                            Foreground="Red"
                            Text="{Binding ElementName=InputTytle, Path=(Validation.Errors)[0].ErrorContent}"
                            />
                        <TextBox
                            x:Name="InputTytle"
                            FontSize="30"
                            Foreground="#6795de"
                            TextWrapping="Wrap"
                            Background= "#f7f9fe"
                            Style="{StaticResource TuskDataTextBoxStyle}"
                            Margin="15 5 15 15"
                            Padding="10"
                            Text="{Binding NewRankingTytle}"
                            />
                        <TextBlock
                            TextWrapping="Wrap"
                            Foreground="#7d4c94"
                            FontSize="25"
                            Style="{StaticResource SpanDefoult}"
                            Text="Write some descripryons for your category"
                            />
                        <TextBlock
                            TextWrapping="Wrap"
                            Margin="10 5 10 0"
                            FontSize="20"
                            Foreground="Red"
                            Text="{Binding ElementName=InputDescryption, Path=(Validation.Errors)[0].ErrorContent}"
                            />
                        <TextBox
                            x:Name="InputDescryption"
                            FontSize="30"
                            Foreground="#6795de"
                            TextWrapping="Wrap"
                            Background= "#f7f9fe"
                            Style="{StaticResource TuskDataTextBoxStyle}"
                            Margin="15 5 15 15"
                            Padding="10"
                            Text="{Binding NewRankingDescryption}"
                            />
                        <Label
                            Margin="10 5 10 0"
                            FontSize="20"
                            Foreground="Red"
                            Content="{Binding ElementName=InputImage, Path=(Validation.Errors)[0].ErrorContent}"
                            />
                        <Grid >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Grid.Column="0"
                                TextWrapping="Wrap"
                                Foreground="#7d4c94"
                                FontSize="25"
                                Style="{StaticResource SpanDefoult}"
                                Text="Select picture"
                                Margin="100 0 0 15"
                                 />
                            <Button
                                ToolTip="Select picture"
                                Command="{Binding SelectImageFile}"
                                Content="Выбрать"
                                Height="60"
                                Grid.Column="1">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border BorderThickness="0" Margin="0" Name="brd" Background="Transparent" CornerRadius="10 20 0 10">
                                            <Image x:Name="icon" Margin="5" Source="\AppResources\Pictures\addPurple.png"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="brd" Property="Background" Value="#512f95"/>
                                                <Setter TargetName="icon" Property="Source" Value="\AppResources\Pictures\addWhite.png" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Grid>
                        <Border
                            CornerRadius="20 0 0 0"
                            Background="#512f95"
                            >
                            <Image
                                x:Name="InputImage"
                                Margin="25"
                                MinHeight="300"
                                Width="auto"
                                Height="{Binding ElementName=InputImage,Path=Width}"
                                Stretch="Fill"
                                Source="{Binding SelectedRankingIconPath}"
                                />
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <customCtrs:CustomButton
                FirstButtonColor="#512f95"
                SecondButtonColor="White"
                Grid.Row="2"
                CornerRadius="10"
                Height="auto"
                BorderThickness="2"
                FontSize="25"
                Text="Create new ranking category"
                Margin="20"
                ImageMargin="15"
                Command="{Binding MakeNewRanking}"
                TextBlockHorizontalAlignment ="Center"
                DisabledImageSource="\AppResources\Pictures\markListBorderedGray128px.png"
                DefoultImageSource="\AppResources\Pictures\markListBorderedPurple128px.png"
                MouseHoverImageSource="\AppResources\Pictures\markListFillWhite128px.png"
                />

           
        </Grid>
    </Border>
</customCtrs:BaseWindow>
